var b=!0,l=null,q=!1,s=Math.random,ca=0,da=1,t;a:{for(var ea=["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"],fa=0;fa<ea.length;++fa){var ga=ea[fa];if(window[ga]){t=window[ga];break a}}t=function(c){var a=(new Date).getTime(),a=a-a%17+17-a;5>a&&(a=17);window.setTimeout(function(){c.call(window,(new Date).getTime())},a)}}var ha=4*Math.atan(1);Math.max(320,256);function u(c){return(1-Math.cos(c*ha))/2}
var ia,v,w,ja,ka,la,z,ma=0,na,A,oa,B,C,E,F,pa,qa,G,ra,H,I,J,K,sa,L,ta,ua=[31,0,481,0,440,460,256,511,71,460],va=[256,37,440,37,405,431,256,472],wa=[114,94,397,94,391,150,175,150,180,208,386,208,371,381,256,413,140,381,132,293,188,293,192,338,256,355,318,338,325,264,129,264];
function xa(c,a,e,d,h,f,g){v.save();v.translate(h,f);v.scale(d,d);v.rotate(e);v.translate(-256,-256);v.beginPath();e=c.length;for(d=0;d<e;d+=2)0==d?v.moveTo(c[d],c[d+1]):v.lineTo(c[d],c[d+1]);v.closePath();v.globalAlpha=a;v.fillStyle=g;v.fill();v.restore()}
for(var ya,za,Aa,Ba,M=[],Ca=[0,0,0,25,19,0,51,39,0,102,43,0,136,49,0,187,40,0,187,69,0,205,101,0,221,152,0,223,183,0,222,229,2,103,233,11,19,238,17,9,255,123,2,255,242,1,135,255],N,Da,O,Ea=32768/(4*Math.atan(1)),Fa,Ga=[],P=0;7>=P;++P){var Q=136+17*P|0,Ha=68+102/7*P|0;Ga.push("#"+(16777216+65536*Q+256*Ha+Ha).toString(16).substr(1));Ga.push("#"+(16777216+65536*Q+256*Q+Q).toString(16).substr(1))}
var S,Ia,T=0,U=[],Ja=[{a:0,e:119,f:0,h:210,g:18},{a:1400,e:224,f:0,h:263,g:18},{a:2300,e:278,f:0,h:310,g:18},{a:3200,e:191,f:26,h:229,g:44},{a:4E3,e:96,f:52,h:270,g:70},{a:4900,e:282,f:52,h:330,g:70},{a:5500,e:173,f:78,h:185,g:96},{a:5800,e:199,f:78,h:217,g:96},{a:6150,e:232,f:78,h:249,g:96},{a:6500,e:191,f:108,h:223,g:126},{a:7100,e:0,f:126,h:416,g:188}],V,Ka,La,Ma,Na,Oa,Pa=[function(c,a,e){v.fillStyle="#000000";v.fillRect(0,0,640,512);c=2300>a?0:3E3>a?(a-2300)/700:9500>a?1:1E4>a?(1E4-a)/500:0;a=
119*(1300>a?0:2E3>a?(a-1300)/700:8500>a?1:9E3>a?(9E3-a)/500:0)|0;e=-e-0.75;v.save();v.fillStyle="rgba("+a+","+a+","+a+",1)";v.font="60px sans-serif";v.scale(-0.5,1);v.translate(640*e,0);v.textAlign="left";v.textBaseline="top";v.fillText("Endpart loaded...",0,50);v.restore();v.globalAlpha=c;v.drawImage(B,320-B.width,460-2*B.height,2*B.width,2*B.height)},function(c,a,e){v.fillStyle="#000000";v.fillRect(0,0,640,512);v.globalAlpha=0.05>e?20*e:0.95<e?20-20*e:1;c=7E3>a?5E3:8456>a?5E3+45*(a-7E3):10550>a?
5E3:12006>a?5E3+45*(a-10550):14100>a?5E3:15556>a?5E3+45*(a-14100):5E3;e=60-700*e;E.fillStyle="#001700";E.fillRect(0,0,50,50);E.textAlign="left";E.textBaseline="middle";E.fillStyle="#ffffff";E.font="bold 40px sans-serif";E.fillText("SANITY",e,30);E.font="30px sans-serif";E.fillText("lbrtw.com for more info!",e+170,30);E.font="bold 40px sans-serif";E.fillText("SANITY",e+500,30);e=E.getImageData(0,0,50,50);var d=0;a=160*(8E3>a?u(a/8E3):15E3>a?1-u((a-8E3)/7E3):u((a-15E3)/8E3));for(var h=25;-25<h;--h)for(var f=
-25;25>f;++f){var g=h*w[c+16384&65535]+f*w[c&65535],m=320+2500*(f*w[c+16384&65535]-h*w[c&65535])/(300+2*g),g=256+1200*(10-g)/(300+2*g),k=127<e.data[d],j=1-Math.abs(f)/25,n=0.5+j/2,p=h+a|0,j=w[6E3*(f-7+p)&65535]*j+w[900*-f&65535]+w[1300*(f+13)&65535]*n+w[8E3*(p+20)&65535]*j+w[1100*p&65535]+w[1700*(p+10)&65535]*n,j=(j-2)/4+p/100*n;(n=0<j)&&k?(v.fillStyle="rgba(255,130,130,0.65)",v.fillRect(m,g-50*j-20,2,2)):k?(v.fillStyle="rgba(255,27,24,0.67)",v.fillRect(m,g-20,2,2)):n?(v.fillStyle="rgba(255,27,24,0.67)",
v.fillRect(m,g-50*j,2,2)):(v.fillStyle="rgba(80,83,255,0.9)",v.fillRect(m,g,2,2));d+=4}},function(c,a,e){c=80*a;var d=900*w[20*a+16E3&65535]*(1-e)+1200,h=17*a,f=100*w[11*a+16E3&65535]+2500,g=1-e,m=0.4-0.2*e,k=qa.data,j=0;for(y=0;128>y;++y){var n=y*d-c&65535,p=y*f-h&65535;for(x=160;0<x;--x){var r=3*(50*(g*(w[x*d-c&65535]+w[n])+m*(w[x*f-h&65535]+w[p]))+200|0);k[j++]=G[r++];k[j++]=G[r++];k[j++]=G[r++];k[j++]=255}}pa.putImageData(qa,0,0);v.drawImage(F,0,0,640,512);2E3>a&&(c=(2E3-a)/2E3,f=1-c*c,c=200-
200*f,d=512*f+c,h=400-400*f,f=h+640*f,v.fillStyle="#000000",v.fillRect(0,0,640,c),v.fillRect(0,d,640,512-d+1),v.fillRect(0,c-1,h,d-c+2),v.fillRect(f,c-1,640-f+1,d-c+2));22800<=a&&30300>=a&&v.drawImage(ra,0,23300>a?512-220*u((a-22800)/500):29800<=a?512-220*u((30300-a)/500):292,128,220);0.98<e&&(v.fillStyle="rgba(0,0,0,"+(50*(e-0.98)).toFixed(3)+")",v.fillRect(0,0,640,512))},function(c,a,e){v.fillStyle="#110000";v.fillRect(0,0,640,340);v.fillStyle="#330000";v.fillRect(0,340,640,172);c=1/6-a%500/3E3;
var d=300/(400+100*w[19*a+32768&65535]),h=306-200*Math.abs(w[41*a&65535])*d,f=320+200*w[19*a+49152&65535]*d;600>a&&(f-=600-600*u(a/600));14E3<a&&(h+=600*u((a-14E3)/600));a=200*d;v.fillStyle="#442222";v.beginPath();for(var g=0;6>g;++g){for(var m=g/6+c-1/24,k=m+1/12,m=2*u(m)-1,k=2*u(k)-1,j=0;40>=j;++j){var n=-1+0.05*j,p=H[j],p=p*m*a+f,n=n*a+h;0==j?v.moveTo(p,n):v.lineTo(p,n)}for(j=40;0<=j;--j)n=-1+0.05*j,p=H[j],p=p*k*a+f,n=n*a+h,v.lineTo(p,n)}v.closePath();v.fill();g=v.createRadialGradient(f-0.6*a*
d,h,0.2*a,f,h,a);g.addColorStop(0,"rgba("+(255*d).toFixed(0)+","+(221*d).toFixed(0)+","+(221*d).toFixed(0)+",255)");g.addColorStop(0.5,"#997777");g.addColorStop(1,"#553333");v.fillStyle=g;v.beginPath();for(g=0;6>g;++g){m=g/6+c-1/24;k=m+1/12;m=1-2*u(m);k=1-2*u(k);for(j=0;40>=j;++j)n=-1+0.05*j,p=H[j],p=p*m*a+f,n=n*a+h,0==j?v.moveTo(p,n):v.lineTo(p,n);for(j=40;0<=j;--j)n=-1+0.05*j,p=H[j],p=p*k*a+f,n=n*a+h,v.lineTo(p,n)}v.closePath();v.fill();0.98<e&&(v.globalAlpha=50*(e-0.98),v.fillStyle="#000000",v.fillRect(0,
0,640,512))},function(c,a,e){var d=0;c=78*w[17*a&65535]+128;for(var h=78*w[13*a+9E3&65535]+128,f=-49.5;50>f;++f)for(var g=1/Math.sin(Math.acos(f/50)),m=-49.5;50>m;++m){var k=m*m+f*f;if(2500<=k)L.data[d++]=L.data[d++]=L.data[d++]=L.data[d++]=0;else{var j=4*(256*(f*(1/Math.sin(Math.acos(m/50)))+h|0)+(m*g+c|0));2100<k?(k=(2500-k)/400,L.data[d++]=J.data[j++]*k|0,L.data[d++]=J.data[j++]*k|0,L.data[d++]=J.data[j++]*k|0):(L.data[d++]=J.data[j++],L.data[d++]=J.data[j++],L.data[d++]=J.data[j++]);L.data[d++]=
255}}sa.putImageData(L,0,0);d=1;0.96<e&&(d=25*(1-e));v.fillStyle="#000000";v.globalAlpha=1;v.fillRect(0,0,640,512);v.globalAlpha=d;v.drawImage(K,120,112,400,400);1E3<a&&(v.fillStyle="#000000",v.globalAlpha=(1500<a?1:(a-1E3)/500)*d,v.drawImage(ta,97,0,446,102));6300<a&&(k=6800<a?1:(a-6300)/500,a=-0.2*u(k),e=1.25-k,c=335,h=360-300*k,xa(ua,k*d,a,e,c,h,"#f83100"),xa(va,k*d,a,e,c,h,"#ff5301"),xa(wa,k*d,a,e,c,h,"rgba(240, 248, 255, 0.9)"))},function(c,a,e){v.fillStyle="#000000";v.fillRect(0,0,640,512);
c=M[c];var d=c.l,h=d.width*c.m,f=d.height*c.n;v.drawImage(d,320-(h>>1),256-(f>>1),h,f);500>a?(v.globalAlpha=1-a/500,v.fillStyle=c.j,v.fillRect(0,0,640,512)):(a=a/e-a,500>a&&(v.globalAlpha=1-a/500,v.fillStyle=c.k,v.fillRect(0,0,640,512)))},function(c,a,e){c=0;var d=10*a;a=1E5*w[3*a&65535];for(var h=-42.5;43>h;++h)for(var f=-47.5;48>f;++f){var g=f*f+h*h,m=Math.atan((f*w[a+16384&65535]-h*w[a&65535])/(h*w[a+16384&65535]+f*w[a&65535])),k=(d/100-Math.sqrt(g))/50,j=k|0,n=k-j,p=0>k?0:(7*j&3)+1,r=0>k?0:(13*
j&13)+5>>1,R=0>k?0:(9*j&7)+2<<2,D=0>k?0:(7*j&7)+1<<1;if(0.9<n&&0<k)var k=j+1,j=(13*k&13)+5>>1,aa=(9*k&7)+2<<2,Ua=(7*k&7)+1<<1,n=10*(n-0.9),ba=1-n,p=p*ba+((7*k&3)+1)*n,r=r*ba+j*n,R=R*ba+aa*n,D=D*ba+Ua*n;value=w[d-g*p&65535]*R+w[m*Ea*r&65535]*D&15;value*=3;O.data[c++]=Ca[value++];O.data[c++]=Ca[value++];O.data[c++]=Ca[value++];O.data[c++]=255}Da.putImageData(O,0,0);v.fillStyle="#000000";v.fillRect(0,0,640,512);v.drawImage(N,128,84,384,344);0.95<e&&(v.globalAlpha=20*(e-0.95),v.fillRect(0,0,640,512))},
function(c,a,e){var d=0;if(0==c){var d=512,h=5*w[13*a&65535]+23,f=2*w[9*a+16384&65535]+2;a=2.5*w[5*a+5E4&65535]+2.5;var g=10*(e-0.9);if(0<g){var m=0.8465*g+3;a=a*(1-g)+0*g;g=u(g);h=h*(1-g)+15*g;f=f*(1-g)+m*g}v.fillStyle="#442133";v.fillRect(0,0,640,512);for(m=0;12>=m;++m)for(var k=40/(h-m),j=0;4>=j;++j){var n=200*(j-f-0.25)*k+256,p=200*(j-f+0.25)*k+256;12==m&&(4==j&&0<g)&&(d=n);if(0<p&&512>n){0==m&&(v.fillStyle="#553244",v.fillRect(0,n,640,p-n));for(var r=0;5>=r;++r){var R=r*r&1,D=200*(r-a-0.25)*
k+320,aa=200*(r-a+0.25)*k+320;0<aa&&640>D&&(v.fillStyle=Ga[m+R],v.fillRect(D,n,aa-D,p-n))}}}0.05>e&&(v.globalAlpha=1-20*e,v.fillStyle="#000000",v.fillRect(0,0,640,512))}512>d&&(v.drawImage(Fa,0,d,640,512),1==c&&0.95<e&&(v.globalAlpha=20*(e-0.95),v.fillStyle="#441022",v.fillRect(0,0,640,512)))},function(c,a,e){var d=S[T];T=1-T;c=Ia[T];for(var h=0;512>h;h+=16)for(var f=h+8-256,g=0;640>g;g+=16){var m=g+8-320,k=0.995*(m+f/48)+320-8,m=0.995*(f-m/48)+256-8;0>k&&(k=0);624<k&&(k=624);0>m&&(m=0);496<m&&(m=
496);c.drawImage(d,k,m,16,16,g,h,16,16)}if(0.75>e){d=17*a;a*=7;c.fillStyle="#ffffff";f=30*w[a&65535]+90;h=320+f*w[d&65535]-10;f=256+f*w[d+16384&65535]-10;for(g=0;9>g;++g)c.fillRect(20*s()+h,20*s()+f,2,2);d=-1.1*d+7E3;a*=1.05;c.fillStyle="#883366";f=30*w[a&65535]+90;h=320+f*w[d&65535]-10;f=256+f*w[d+16384&65535]-10;for(g=0;9>g;++g)c.fillRect(20*s()+h,20*s()+f,2,2);d*=-0.8;a*=-1.05;c.fillStyle="#aa7766";f=30*w[a&65535]+90;h=320+f*w[d&65535]-10;f=256+f*w[d+16384&65535]-10;for(g=0;9>g;++g)c.fillRect(20*
s()+h,20*s()+f,2,2);d*=-1.2;c.fillStyle="#ee8899";f=30*w[-0.9*a&65535]+90;h=320+f*w[d&65535]-10;f=256+f*w[d+16384&65535]-10;for(g=0;9>g;++g)c.fillRect(20*s()+h,20*s()+f,2,2)}c.fillStyle="#441022";c.beginPath();c.arc(320,256,64,0,2*Math.PI,q);c.closePath();c.fill();v.drawImage(S[T],0,0);0.95<e&&(v.globalAlpha=20*(e-0.95),v.fillStyle="#000000",v.fillRect(0,0,640,512))},function(c,a,e){v.fillStyle="#000000";v.fillRect(0,0,640,512);v.save();v.scale(0.5,1);v.font="bold 80px sans-serif";v.fillStyle="#ffffff";
v.textAlign="center";v.textBaseline="top";v.fillText("anti digit mode",640,0);v.restore();4520<a?v.drawImage(U[4],160,120,320,256):3640<a?v.drawImage(U[3],160,120,320,256):2760<a?v.drawImage(U[2],160,120,320,256):1880<a?v.drawImage(U[1],160,120,320,256):1E3<a&&v.drawImage(U[0],160,120,320,256);0.9<e&&(v.globalAlpha=10*(e-0.9),v.fillStyle="#000000",v.fillRect(0,0,640,512))},function(c,a,e){v.fillStyle="#000000";v.fillRect(0,0,640,512);for(c=0;c<Ja.length;++c){var d=Ja[c];a>d.a&&v.drawImage(V,d.e,d.f,
d.h-d.e,d.g-d.f,320-V.width/2+d.e,256-V.height+2*d.f,d.h-d.e,2*(d.g-d.f))}0.9<e&&(v.globalAlpha=10*(e-0.9),v.fillStyle="#000000",v.fillRect(0,0,640,512))},function(c,a){v.fillStyle="#000000";v.fillRect(0,0,640,512);3E3>a&&(v.globalAlpha=500>a?a/500:2500<a?(3E3-a)/500:1,v.drawImage(Oa,337,217,118,130));2500<a&&5E3>a&&(v.globalAlpha=0.5*(3E3>a?(a-2500)/500:4500<a?(5E3-a)/500:1),v.drawImage(La,337,190,118,138));4500<a&&7E3>a&&(v.globalAlpha=5E3>a?(a-4500)/500:6500<a?(7E3-a)/500:1,v.drawImage(Ma,337,
201,118,117));6500<a&&9E3>a&&(v.globalAlpha=0.5*(7E3>a?(a-6500)/500:8500<a?(9E3-a)/500:1),v.drawImage(Na,337,233,200,89));v.globalAlpha=500>a?a/500:8500<a?(9E3-a)/500:1;v.drawImage(Ka,109,119,422,274)}],Qa=[{a:0,b:1E4,c:0,d:0},{a:1E4,b:29400,c:1,d:0},{a:29400,b:62400,c:2,d:0},{a:62400,b:77E3,c:3,d:0},{a:77E3,b:9E4,c:4,d:0},{a:9E4,b:92700,c:5,d:0},{a:92700,b:94500,c:5,d:1},{a:94500,b:96200,c:5,d:2},{a:96200,b:105E3,c:5,d:3},{a:105E3,b:133E3,c:6,d:0},{a:133E3,b:147E3,c:7,d:0},{a:147E3,b:154200,c:7,
d:1},{a:154200,b:182E3,c:8,d:0},{a:182E3,b:189500,c:9,d:0},{a:189500,b:2E5,c:10,d:0},{a:2E5,b:209E3,c:11,d:0},q];
function Ra(c){if(la){da=60*((c-ka)/1E3);ca=c-la;var a=Qa[ma];a&&ca>=a.b&&(++ma,a=Qa[ma]);if(a){var e=ca-a.a,d=e/(a.b-a.a);na=Pa[a.c];var h=(new Date).getTime();v.globalAlpha=1;v.save();na.call(this,a.d,e,d,da);v.restore()}else A=q;a=(22-((new Date).getTime()-h)-10*da)/200;0<a&&(a*=0.005);a=ja+a;1<a?a=1:0.1>a&&(a=0.1);ja=a}z&&(1>z&&(la=c-1E3*z-250),ka=c);A?t(Ra):(c=document.createEvent("Event"),c.initEvent("demoDone",b,b),window.dispatchEvent(c))}function Sa(){A=b;t(Ra)}
function Ta(){z=this.currentTime}var W=[],X=0;function Va(c){W.push(c);++X;c=document.createEvent("Event");c.initEvent("itemsLoader",b,b);c.total=X;c.i=X-W.length;window.dispatchEvent(c)}function Wa(c){for(var a=[],e=0;e<W.length;++e)W[e]!=c&&a.push(W[e]);W=a;c=document.createEvent("Event");c.initEvent("itemsLoader",b,b);c.total=X;c.i=X-W.length;window.dispatchEvent(c)}var Y=l;
function Xa(){Y&&window.clearTimeout(Y);var c=this;Y=window.setTimeout(function(){Y=l;c.removeEventListener("progress",Xa,q);Wa(c)},2E3)}function Ya(){Y&&(window.clearTimeout(Y),Y=l);this.removeEventListener("progress",Xa,q);Wa(this)}function Za(){Wa(this)}function Z(c){var a=new Image;Va(a);a.addEventListener("load",Za,q);a.src=c+"?ts="+(new Date).getTime();return a}var $=l;
onLoadingDone=function(){$&&(window.clearTimeout($),$=l);for(var c=[],a=4*Math.atan(1),e=0;65535>=e;++e)c.push(Math.sin(e*a/32768));w=c;C=document.createElement("CANVAS");C.width=C.height=50;E=C.getContext("2d");F=document.createElement("CANVAS");F.width=160;F.height=128;pa=F.getContext("2d");qa=pa.createImageData(160,128);G=[];for(c=200;0<c;--c){var a=3.5*c,e=1.9*c,d=0.7*c;255<a&&(a=255);255<e&&(e=255);255<d&&(d=255);G.push(a|0,e|0,d|0)}G.push(0,0,0);for(c=1;200>=c;++c)a=0.6*c,e=1.5*c,d=2.7*c,255<
a&&(a=255),255<e&&(e=255),255<d&&(d=255),G.push(a|0,e|0,d|0);H=[];for(c=-100;100>=c;c+=5)H.push(Math.sin(Math.acos(0.0099*c)));c=document.createElement("CANVAS");c.width=I.width;c.height=I.height;c=c.getContext("2d");c.drawImage(I,0,0);J=c.getImageData(0,0,I.width,I.height);K=document.createElement("CANVAS");K.width=K.height=100;sa=K.getContext("2d");L=sa.createImageData(100,100);M.push({j:"#000000",k:"#000000",l:ya,m:1,n:2});M.push({j:"#000000",k:"#000000",l:za,m:1,n:2});M.push({j:"#000000",k:"#ffffff",
l:Aa,m:1,n:2});M.push({j:"#ffffff",k:"#000000",l:Ba,m:2,n:2});N=document.createElement("CANVAS");N.width=96;N.height=86;Da=N.getContext("2d");O=Da.createImageData(96,86);S=[];Ia=[];for(c=0;2>c;++c)a=document.createElement("CANVAS"),a.width=640,a.height=512,e=a.getContext("2d"),e.fillStyle="#441022",e.fillRect(0,0,640,512),S.push(a),Ia.push(e);oa.play()};
onItemsLoader=function(c){$&&(window.clearTimeout($),$=l);v.fillStyle="#000000";v.fillRect(0,0,640,512);v.fillStyle="#000073";v.strokeStyle="#000073";v.lineWidth=50;v.lineCap="round";v.beginPath();v.moveTo(120,256);v.lineTo(520,256);v.stroke();c.i<c.total&&(v.strokeStyle="#000000",v.lineWidth=40,v.beginPath(),v.moveTo(120,256),v.lineTo(520,256),v.stroke(),v.strokeStyle="#000073",v.lineWidth=41,v.beginPath(),v.moveTo(120,256),v.lineTo(120+400*c.i/c.total,256),v.stroke());c.i==c.total&&(v.textAlign=
"center",v.textBaseline="middle",v.font="20px sans-serif",v.fillText("Click to start...",320,296),window.setTimeout(onLoadingDone,1),ia.addEventListener("click",onLoadingDone,q))};
onload=function(){ia=document.getElementById("demo");v=ia.getContext("2d");A=q;window.addEventListener("itemsLoader",onItemsLoader,q);var c=document.createElement("AUDIO");c.controls=b;c.o="auto";Va(c);c.addEventListener("play",Sa,q);c.addEventListener("timeupdate",Ta,q);c.addEventListener("progress",Xa,q);c.addEventListener("canplay",Ya,q);var a=c.canPlayType("audio/ogg"),e=c.canPlayType("audio/mpeg");if("probably"==a||"maybe"==a&&"probably"!=e)c.src="elekfunk.ogg";else if("probably"==e||"maybe"==
e)c.src="elekfunk.mp3";c.load();oa=c;B=Z("muscleMan.png");ra=Z("sinePlasma.png");I=Z("murky.png");ta=Z("intelOutside2.png");ya=Z("mMonroe2.png");za=Z("shiffer2.png");Aa=Z("crawford2.png");Ba=Z("arte2.png");Fa=Z("artwork.png");U.push(Z("antiDigit1.png"));U.push(Z("antiDigit2.png"));U.push(Z("antiDigit3.png"));U.push(Z("antiDigit4.png"));U.push(Z("antiDigit5.png"));V=Z("shameOnUs.png");Ka=Z("noAgaTroll.png");Oa=Z("aga.png");La=Z("flash.png");Ma=Z("silverlight.png");Na=Z("webGL.png")};
window.onload=onload;